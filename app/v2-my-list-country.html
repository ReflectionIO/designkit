<!doctype html>
<html lang="en" class="no-js">
<head>
	<meta charset="utf-8" />
	<title>Reflection V2, My List by Country</title>
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<!--[if (gt IE 9)|(IEMobile)|(!IE)]><!-->
		<link rel="stylesheet" type="text/css" href="reflection-main-v2.css" />
	<!--<![endif]-->
	<!--[if IE 9]>
		<link rel="stylesheet" type="text/css" href="ie9-v2-one.css" />
		<link rel="stylesheet" type="text/css" href="ie9-v2-two.css" />
	<![endif]-->
	<!--[if (lt IE 9)]>
		<script src="js/vendor/html5shiv.min.js"></script>
		<link rel="stylesheet" media="screen, projection" type="text/css" href="reflection-main-ie8.css" />
	<![endif]-->
	<link rel="stylesheet" href="js/vendor/jquery.mCustomScrollbar.css" />
<script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.16/webfont.js"></script>
<script>
  WebFont.load({
    google: {
      families: ['Source Sans Pro:400,600,700', 'Lato:400,700,400italic']
    }
  });
</script></head>
<body>
	<!--[if (lt IE 9)]>
      <div class="window-warning">
  			<p>Uh oh... Reflection doesn't work in this browser. &nbsp; &nbsp;<a href="http://outdatedbrowser.com/en" target="_blank">Download a compatible browser</a></p>
  		</div>
  <![endif]-->

  <header id="js-component-import--global-header" class="global-header"></header>
  
	<div id="js-component-import--panel-left" class="panel-left js-panel-left js-custom-scrollbar" data-mcs-theme="minimal-dark"></div>

	<div class="l-page-container">
		<div id="main" class="l-main" role="main">
			<div class="page-data-dashboard page-data-dashboard--country">
				<div class="grid-container">
					<h1 class="heading-style--heading-two page-title js-mock-change-heading-for-list-page">Football Games List (4 Apps)</h1>
					
					<div class="toggle-container page-header__page-toggle">
						<div class="filter-toggle filter-toggle--with-text filter-toggle--small">
							<div class="toggle">
								<input id="toggle--show-overview" name="overview-country" type="radio">
								<label for="toggle--show-overview" onclick="location.replace('v2-data-template.html#show-list');">
									Overview
								</label>
							</div>
							<div class="toggle">
								<input id="toggle--show-country" name="overview-country" type="radio" checked>
								<label for="toggle--show-country" onclick="location.replace('v2-my-list-country.html');">
									By Country
								</label>
							</div>
						</div>
					</div>

					<span class="page-header__data-info-text">All Estimated Data</span>
					<span class="page-header__data-info-icon ref-icon-after--question whats-this-tooltip-icon js-whats-this-tooltip" data-whatsthis-title="What is Estimated Data?" data-whatsthis="Info"></span>

					<button href="#" class="ref-button--secondary--small page-header_action-button">Download CSV</button>
					<a href="v2-my-lists.html" class="page-header__text-link js-mock-show-for-my-list-view-only">Back to My Lists</a>
				</div>

				<div class="grid__row overflow-visible">
					<aside class="primary-filters-container">
 						<div class="primary-filter form-field--select">
							<select class="js-select-box">
						    <option value="all" selected>All Stores &amp; Accounts</option>
						    <option value="allIos" class="js-parent-option">All iOS Accounts</option>
						    <option value="iosOne" class="js-child-option">iOS Account One</option>
						    <option value="iosTwo" class="js-child-option">iOS Account Two</option>
						    <option value="iosThree" class="js-child-option">iOS Account Three</option>
						    <option value="allGoogle" class="js-parent-option">All Google Play Accounts</option>
						    <option value="googleOne" class="js-child-option">Google Account One</option>
						    <option value="googleTwo" class="js-child-option">Google Account Two</option>
						    <option value="googleThree" class="js-child-option">Google Account Three</option>
							</select>
						</div>
						<div class="primary-filter form-field--select">
							<select class="js-select-box">
						    <option value="jan" selected>01/01/16 - 01/02/16</option>
						    <option value="feb">01/02/16 - 01/03/16</option>
						    <option value="mar">01/03/16 - 01/04/16</option>
						    <option value="apr">01/04/16 - 01/05/16</option>
							</select>
						</div>
						<div class="primary-filter form-field--select">
							<select class="js-select-box">
						    <option value="all" selected>All Countries</option>
						    <option value="uni">United Kingdom</option>
						    <option value="fra">France</option>
						    <option value="ger">Germany</option>
							</select>
						</div>
						<div class="primary-filter form-field--select">
							<select class="js-select-box">
						    <option value="all" selected>All Categories</option>
						    <option value="uni">Games</option>
						    <option value="fra">Lifestyle</option>
						    <option value="ger">Productivity</option>
							</select>
						</div>
						<div class="primary-filter form-field--select">
							<select class="js-select-box">
						    <option value="all" selected>All Devices</option>
						    <option value="ipa">iPad</option>
						    <option value="iph">iPhone</option>
							</select>
						</div>
					</aside>
				</div>

				<aside class="grid-container secondary-filters-container">
					<div class="secondary-filter form-field--select">
						<select class="js-select-box">
					    <option value="allapps" selected>All Apps in List</option>
					    <option value="clash">Football Manager</option>
					    <option value="boom">Championship Manager</option>
					    <option value="hay">Fifa</option>
					    <option value="royale">Score Hero</option>
						</select>
					</div>

					<div class="form-field--checkbox-list form-field--checkbox-list--inline">
						<ul>
							<li>
								<input type="checkbox" name="checkboxOne" id="checkboxOne">
								<label for="checkboxOne" class="checkboxLabel">Events</label>
								<label for="checkboxOne" class="checkboxLabelVisible">Events</label>
							</li>
							<li>
								<input type="checkbox" name="checkboxThree" id="checkboxThree">
								<label for="checkboxThree" class="checkboxLabel">Cumulative</label>
								<label for="checkboxThree" class="checkboxLabelVisible">Cumulative</label>
							</li>
						</ul>
					</div>

					<div class="secondary-filter form-field--select">
						<select class="js-select-box">
					    <option value="overlayapps" selected>More (0/2)</option>
					    <option value="clash">Re-downloads</option>
					    <option value="soccerstars">Installed Updates</option>
						</select>
					</div>

					<div class="filter-toggle toggle-container--chart-type">
						<div class="toggle">
							<input id="toggle--show-stacked" name="graphtype" checked type="radio">
							<label for="toggle--show-stacked">
								<svg x=0px y=0px viewBox="0 0 18 18"enable-background="new 0 0 18 18"xml:space=preserve><path d="M13.7,4.8L9.9,3L6.5,9.2L3.2,7.7L0,12.6V18h18V0.1L13.7,4.8z M3.6,9.1L7,10.7l3.4-6.2L14,6.1l2.9-3.2v4
	l-3,4.5l-3.2-1.1l-3.7,3.4L3.7,13l-2.6,1.4v-1.5L3.6,9.1z M14.1,16.9h-0.6h-2.8h-0.6H7.3H6.8H3.9H3.4H1.1V15l2.7-1.5l3.3,0.9
	l3.7-3.4l3.3,1.1l2.8-4.2v9H14.1z"/></svg>
							</label>
						</div>
						<div class="toggle">
							<input id="toggle--show-map" name="graphtype" type="radio">
							<label for="toggle--show-map">
								<svg x="0px" y="0px" viewBox="0 0 18 18" enable-background="new 0 0 18 18" xml:space="preserve"><path d="M9,0C9,0,9,0,9,0C8.9,0,8.9,0,8.9,0C8.7,0,8.6,0,8.4,0c-0.1,0-0.3,0-0.4,0c-0.1,0-0.2,0-0.3,0.1
	C3.4,0.7,0,4.5,0,9c0,5,4,9,9,9s9-4,9-9C18,4,14,0,9,0z M15.5,6.3c-0.3-0.1-0.3-0.3-0.6-0.4c-0.5-0.2-1.4-0.2-2,0
	c-0.5,0.2-0.6,0.3-1,0.7c-0.1,0.1-0.1,0.3-0.2,0.4c-0.1,0.1-0.1,0.2-0.1,0.3c-0.1,0.6-0.4,1.3-0.1,1.8c0.1,0.2,0.4,0.3,0.6,0.5
	c0.3,0.2,0.4,0.4,0.8,0.5c0.2,0,0.5,0,0.7,0c0.3,0,0.6,0.1,0.8,0.2c-0.2,0.4-0.2,1.1-0.2,1.3c0,0.2,0.1,0.2,0.1,0.4
	c0.1,0.6-0.9,1-0.7,1.6c0,0.1,0.1,0.3,0.1,0.4c0,0.5-0.4,0.7-0.5,1.1c0,0.2,0,0.4,0,0.6c0,0.1,0,0.2,0,0.3c-1.3,0.8-2.8,1.3-4.4,1.3
	c-4.5,0-8.2-3.7-8.2-8.2c0-1.6,0.5-3.1,1.3-4.4c0,0,0.1,0,0.1,0.1c0,0.1,0,0.3,0,0.4C2.2,5.6,2.5,6.1,3,6.1c0,0.3-0.1,0.3,0.2,0.7
	c0,0.1,0,0.2,0.1,0.2c0.1,0.1,0.2,0.1,0.3,0.1C3.7,7.4,3.7,7.8,3.6,8S3.2,8.5,3.1,8.8c-0.2,0.4-0.1,1,0.2,1.4
	c0.1,0.1,0.3,0.5,0.5,0.6S4,10.8,4,11c0.1,0.3,0.1,0.5,0.2,0.7c0,0.2-0.1,0.6-0.1,0.8c0,0.2,0.1,0.2,0.1,0.3c0,0.1-0.1,0-0.1,0.2
	c0,0.3,0,1,0.1,1.2c0.1,0.8,0.6,1.5,1.1,1.4c0.2-0.4-0.2-0.8-0.1-1.2c0.1-0.2,0.1-0.3,0.3-0.4c0.6-0.4,1-0.8,1.3-1.4
	c0-0.1,0.1-0.3,0.2-0.3c0.1,0,0.2,0,0.3-0.1c0.4-0.1,0.6-0.3,0.8-0.6s0.2-0.6,0.5-1c0.1-0.1,0.1-0.3,0.2-0.3
	c0.2-0.3-0.1-0.7-0.4-0.8S7.8,9.4,7.5,9.2C7.2,9,7.2,8.6,7,8.3C6.7,8,6.4,7.8,6,7.7C5.6,7.5,5.7,7.3,5,7C4.9,7,4.7,7,4.6,7
	C4.5,7,4.5,7.1,4.4,7.1C4.2,7.4,3.7,7.2,3.6,6.9c0-0.1,0-0.3,0-0.4c0-0.1-0.1-0.4-0.2-0.4C3.3,5.9,3.7,6.1,3.7,5.8
	c0-0.3-0.2-0.1-0.4-0.2C3,5.5,3.1,5.1,3.1,4.9c0.1-0.3,0.2-0.2,0.3-0.3c0.3-0.2,0.7-0.3,1-0.2c0.3,0.1,0.2,0.7,0.3,0.7
	c0.1,0.1,0.3-0.1,0.3-0.2s0-0.3,0-0.4c0-0.1,0.1-0.1,0.2-0.2c0.6-0.4,1.3-0.7,2.1-0.8c0.1,0,0.2,0,0.3,0c0.1-0.1,0.1-0.3,0.2-0.3
	c0.1,0,0.2,0.2,0.4,0.2C8.4,3.5,8.6,3.2,8.6,3c0-0.2-0.1-0.4,0-0.6c0-0.1,0.1-0.1,0.1-0.2c0,0-0.1-0.1-0.1-0.1
	C8.4,2.1,8.4,1.9,8.1,1.9C7.9,2,7.7,2,7.5,2.2C7.3,2.3,7.2,2.4,7,2.5C6.8,2.3,7,2,7.2,1.8c0.2-0.1,0.4-0.1,0.7-0.2
	c0.1,0,0.2,0,0.3,0c0.1,0,0.2,0.1,0.2,0.1c0.2,0.1,0.3,0,0.4-0.1C9,1.5,9.1,1.4,8.9,1.2c0-0.1,0.2-0.1,0.2,0s0,0.2-0.1,0.4
	C8.8,2.2,9.3,2.7,9.5,2.7c0.3,0,0.5-0.6,0.9-0.8c0.1,0,0.2-0.1,0.3-0.1c0.1-0.1,0.1-0.2,0.2-0.4c0.1-0.1,0.2-0.2,0.4-0.2
	c0.8,0.2,1.5,0.5,2.1,1c0,0,0,0,0,0c0,0-0.1,0-0.2,0c-0.4-0.1-0.5,0.3-0.4,0.7c0.1,0.3,0.3,0.5,0.6,0.6c0.1,0,0.3,0.1,0.4,0.2
	c0,0,0,0.2,0,0.2c0,0.3,0,0.5-0.3,0.6c-0.2,0.2-0.6,0.1-0.8,0.3c-0.2,0.2,0.1,0.6,0.4,0.8c0.2,0.2,0.7,0.2,0.9-0.1
	C14.1,5.3,14,5.1,14,5c0.3,0,0.5,0.2,0.6,0.4c0,0,0.1,0.1,0.2,0.1c0.1,0,0.2-0.2,0.3-0.1c0,0.1,0,0.2,0.1,0.2s0.1-0.1,0.2,0
	s0.2,0.3,0.3,0.3c0.1,0,0.3,0,0.4,0.1c0.1,0.1,0.1,0.2,0.1,0.3C16.3,6.4,15.8,6.4,15.5,6.3z"></path></svg>
							</label>
						</div>
					</div>

				</aside>

				<div class="grid__row">
					<ul class="tabs-content-list">
						<li class="is-active" id="split-chart-container">
							<section class="chart-container chart-container--split">
								<header class="chart-container__header">
									<h2 class="chart-heading heading-style--heading-three">Revenue</h2>
									<dl class="chart-summary">
										<div class="total-for-period-container">
											<dd class="total-for-period-title">Total for Period / % Growth</dd>
											<dt class="total-for-period">$7,501,876 <span class="growth-on-last-period positive-colour"> + 100%</span></dt>
										</div>
									</dl>
								</header>
								<aside class="custom-chart-key">
									<div class="form-field--checkbox-list form-field--checkbox-list--inline">
										<ul>
											<li class="revenue-key">
												<input type="checkbox" name="showhiderevenue" id="showhiderevenue" class="js-toggle-total-series" data-chart-index="0" data-series-index="0" checked>
												<label for="showhiderevenue" class="checkboxLabel">Total</label>
												<label for="showhiderevenue" class="checkboxLabelVisible">Total</label>
											</li>
											<li>
												<input type="checkbox" name="showhideUSA" id="showhideUSA" class="js-toggle-total-series" data-chart-index="0" data-series-index="1" checked>
												<label for="showhideUSA" class="checkboxLabel">USA</label>
												<label for="showhideUSA" class="checkboxLabelVisible">USA</label>
											</li>
											<li>
												<input type="checkbox" name="showhideUK" id="showhideUK" class="js-toggle-total-series" data-chart-index="0" data-series-index="2" checked>
												<label for="showhideUK" class="checkboxLabel">UK</label>
												<label for="showhideUK" class="checkboxLabelVisible">UK</label>
											</li>
											<li>
												<input type="checkbox" name="showhideChina" id="showhideChina" class="js-toggle-total-series" data-chart-index="0" data-series-index="3" checked>
												<label for="showhideChina" class="checkboxLabel">China</label>
												<label for="showhideChina" class="checkboxLabelVisible">China</label>
											</li>
											<li>
												<input type="checkbox" name="showhideFrance" id="showhideFrance" class="js-toggle-total-series" data-chart-index="0" data-series-index="4" checked>
												<label for="showhideFrance" class="checkboxLabel">France</label>
												<label for="showhideFrance" class="checkboxLabelVisible">France</label>
											</li>
										</ul>
									</div>
								</aside>
								<div class="chart" id="chart-revenue"></div>
							</section>
							<section class="chart-container chart-container--split">
								<header class="chart-container__header">
									<h2 class="chart-heading heading-style--heading-three">Downloads</h2>
									<dl class="chart-summary">
										<div class="total-for-period-container">
											<dd class="total-for-period-title">Total for Period / % Growth</dd>
											<dt class="total-for-period">3,578,160 <span class="growth-on-last-period negative-colour"> - 100%</span></dt>
										</div>
									</dl>
								</header>
								<aside class="custom-chart-key">
									<div class="form-field--checkbox-list form-field--checkbox-list--inline">
										<ul>
											<li class="downloads-key">
												<input type="checkbox" name="showhidedownloads" id="showhidedownloads" class="js-toggle-total-series" data-chart-index="1" data-series-index="0" checked>
												<label for="showhidedownloads" class="checkboxLabel">Total</label>
												<label for="showhidedownloads" class="checkboxLabelVisible">Total</label>
											</li>
											<li>
												<input type="checkbox" name="showhideUSA" id="showhideUSA" class="js-toggle-total-series" data-chart-index="0" data-series-index="1" checked>
												<label for="showhideUSA" class="checkboxLabel">USA</label>
												<label for="showhideUSA" class="checkboxLabelVisible">USA</label>
											</li>
											<li>
												<input type="checkbox" name="showhideUK" id="showhideUK" class="js-toggle-total-series" data-chart-index="0" data-series-index="2" checked>
												<label for="showhideUK" class="checkboxLabel">UK</label>
												<label for="showhideUK" class="checkboxLabelVisible">UK</label>
											</li>
											<li>
												<input type="checkbox" name="showhideChina" id="showhideChina" class="js-toggle-total-series" data-chart-index="0" data-series-index="3" checked>
												<label for="showhideChina" class="checkboxLabel">China</label>
												<label for="showhideChina" class="checkboxLabelVisible">China</label>
											</li>
											<li>
												<input type="checkbox" name="showhideFrance" id="showhideFrance" class="js-toggle-total-series" data-chart-index="0" data-series-index="4" checked>
												<label for="showhideFrance" class="checkboxLabel">France</label>
												<label for="showhideFrance" class="checkboxLabelVisible">France</label>
											</li>
										</ul>
									</div>
								</aside>
								<div class="chart" id="chart-downloads"></div>
							</section>
						</li>
					</ul>
				</div>

				<div class="grid-container">

					<section class="data-table-section grid__column--full-width">
						<header class="data-table-section__header">
							<h2 class="section-title"><span>Total Apps</span> <span>5</span></h2>
							<div class="data-table-section__filters">
								
								<div class="secondary-filter form-field--search">
									<input type="text" placeholder="Find Country in List" name="findapp" id="findapp" />
									<label for="findapp" class="ref-icon-after--search"><span>Search</span></label>
								</div>
								<div class="secondary-filter form-field--select">
									<select class="js-select-box">
								    <option value="all" selected>All Countries</option>
								    <option value="one">Region 1</option>
								    <option value="two">Region 2</option>
								    <option value="the">Region 3</option>
								    <option value="cone">Italy</option>
								    <option value="ctwo">Germany</option>
								    <option value="cthr">United Kingdom</option>
								    <option value="etc">etc</option>
									</select>
								</div>
								<label>Show</label>
								<div class="secondary-filter form-field--select">
									<select class="js-select-box">
								    <option value="nam">Name</option>
								    <option value="rat">Average Rating</option>
								    <option value="rel">Release Date</option>
								    <option value="las">Last Updated</option>
								    <option value="rev" selected>Revenue Actual</option>
								    <option value="revgro">Revenue - % Growth</option>
								    <option value="dow">Downloads - Actual</option>
								    <option value="dowgro">Downloads - % Growth</option>
								    <option value="perrev">% of Revenue for Period</option>
								    <option value="perdow">% of Downloads for Period</option>
									</select>
								</div>
								<label>Sort</label>

							</div>
						</header>
						<div class="data-table-section__summary">
							<div class="form-field--checkbox-list form-field--checkbox-list--inline">
								<ul>
									<li>
										<input type="checkbox" name="checkboxTotals" id="checkboxTotals" checked>
										<label for="checkboxTotals" class="checkboxLabel">All Countries Total</label>
										<label for="checkboxTotals" class="checkboxLabelVisible">All Countries Total</label>
									</li>
								</ul>
							</div>
							<div class="data-table-section__summary__figures">
								<span class="data-table-section__summary__total-revenue ref-icon-before--revenue">
									<span>£18,028,173</span>
								</span>
								<span class="data-table-section__summary__growth positive-colour">+5%</span>
								<span class="data-table-section__summary__total-downloads ref-icon-before--download">
									<span>33,159,002</span>
								</span>
								<span class="data-table-section__summary__growth negative-colour">-1%</span>
								<a href="#" class="data-table-section__summary__more-link">More</a>
							</div>
						</div>

						<table class="ref-table ref-table--apps ref-table--apps--country">
							<thead>
								<tr>
									<th><a href="#">Clear</a></th>
									<th></th>
									<th>
										<span>Country</span>
										<svg version="1.1" x="0px" y="0px" viewBox="0 0 7 10" enable-background="new 0 0 7 10" xml:space="preserve" class="sort-svg"><path class="ascending" d="M0.4,4.1h6.1c0.1,0,0.2,0,0.3-0.1C7,3.9,7,3.8,7,3.7c0-0.1,0-0.2-0.1-0.3L3.8,0.1C3.7,0,3.6,0,3.5,0C3.4,0,3.3,0,3.2,0.1L0.1,3.3C0,3.4,0,3.5,0,3.7C0,3.8,0,3.9,0.1,4C0.2,4.1,0.3,4.1,0.4,4.1z"></path><path class="descending" d="M6.6,5.9H0.4c-0.1,0-0.2,0-0.3,0.1C0,6.1,0,6.2,0,6.3c0,0.1,0,0.2,0.1,0.3l3.1,3.2C3.3,10,3.4,10,3.5,10c0.1,0,0.2,0,0.3-0.1l3.1-3.2C7,6.6,7,6.5,7,6.3C7,6.2,7,6.1,6.9,6C6.8,5.9,6.7,5.9,6.6,5.9z"></path></svg>
									</th>
									<th class="revenue-head-cell">
										Revenue
										<svg version="1.1" x="0px" y="0px" viewBox="0 0 7 10" enable-background="new 0 0 7 10" xml:space="preserve" class="sort-svg"><path class="ascending" d="M0.4,4.1h6.1c0.1,0,0.2,0,0.3-0.1C7,3.9,7,3.8,7,3.7c0-0.1,0-0.2-0.1-0.3L3.8,0.1C3.7,0,3.6,0,3.5,0C3.4,0,3.3,0,3.2,0.1L0.1,3.3C0,3.4,0,3.5,0,3.7C0,3.8,0,3.9,0.1,4C0.2,4.1,0.3,4.1,0.4,4.1z"></path><path class="descending" d="M6.6,5.9H0.4c-0.1,0-0.2,0-0.3,0.1C0,6.1,0,6.2,0,6.3c0,0.1,0,0.2,0.1,0.3l3.1,3.2C3.3,10,3.4,10,3.5,10c0.1,0,0.2,0,0.3-0.1l3.1-3.2C7,6.6,7,6.5,7,6.3C7,6.2,7,6.1,6.9,6C6.8,5.9,6.7,5.9,6.6,5.9z"></path></svg>
									</th>
									<th class="downloads-head-cell">
										Downloads
										<svg version="1.1" x="0px" y="0px" viewBox="0 0 7 10" enable-background="new 0 0 7 10" xml:space="preserve" class="sort-svg"><path class="ascending" d="M0.4,4.1h6.1c0.1,0,0.2,0,0.3-0.1C7,3.9,7,3.8,7,3.7c0-0.1,0-0.2-0.1-0.3L3.8,0.1C3.7,0,3.6,0,3.5,0C3.4,0,3.3,0,3.2,0.1L0.1,3.3C0,3.4,0,3.5,0,3.7C0,3.8,0,3.9,0.1,4C0.2,4.1,0.3,4.1,0.4,4.1z"></path><path class="descending" d="M6.6,5.9H0.4c-0.1,0-0.2,0-0.3,0.1C0,6.1,0,6.2,0,6.3c0,0.1,0,0.2,0.1,0.3l3.1,3.2C3.3,10,3.4,10,3.5,10c0.1,0,0.2,0,0.3-0.1l3.1-3.2C7,6.6,7,6.5,7,6.3C7,6.2,7,6.1,6.9,6C6.8,5.9,6.7,5.9,6.6,5.9z"></path></svg>
									</th>
									<th></th>
									<th class="total-for-period-head-cell">
										<span>% of Total for Period</span>
										<span>
											Revenue
											<svg version="1.1" x="0px" y="0px" viewBox="0 0 7 10" enable-background="new 0 0 7 10" xml:space="preserve" class="sort-svg"><path class="ascending" d="M0.4,4.1h6.1c0.1,0,0.2,0,0.3-0.1C7,3.9,7,3.8,7,3.7c0-0.1,0-0.2-0.1-0.3L3.8,0.1C3.7,0,3.6,0,3.5,0C3.4,0,3.3,0,3.2,0.1L0.1,3.3C0,3.4,0,3.5,0,3.7C0,3.8,0,3.9,0.1,4C0.2,4.1,0.3,4.1,0.4,4.1z"></path><path class="descending" d="M6.6,5.9H0.4c-0.1,0-0.2,0-0.3,0.1C0,6.1,0,6.2,0,6.3c0,0.1,0,0.2,0.1,0.3l3.1,3.2C3.3,10,3.4,10,3.5,10c0.1,0,0.2,0,0.3-0.1l3.1-3.2C7,6.6,7,6.5,7,6.3C7,6.2,7,6.1,6.9,6C6.8,5.9,6.7,5.9,6.6,5.9z"></path></svg>
										</span>
										<span>
											Downloads
											<svg version="1.1" x="0px" y="0px" viewBox="0 0 7 10" enable-background="new 0 0 7 10" xml:space="preserve" class="sort-svg"><path class="ascending" d="M0.4,4.1h6.1c0.1,0,0.2,0,0.3-0.1C7,3.9,7,3.8,7,3.7c0-0.1,0-0.2-0.1-0.3L3.8,0.1C3.7,0,3.6,0,3.5,0C3.4,0,3.3,0,3.2,0.1L0.1,3.3C0,3.4,0,3.5,0,3.7C0,3.8,0,3.9,0.1,4C0.2,4.1,0.3,4.1,0.4,4.1z"></path><path class="descending" d="M6.6,5.9H0.4c-0.1,0-0.2,0-0.3,0.1C0,6.1,0,6.2,0,6.3c0,0.1,0,0.2,0.1,0.3l3.1,3.2C3.3,10,3.4,10,3.5,10c0.1,0,0.2,0,0.3-0.1l3.1-3.2C7,6.6,7,6.5,7,6.3C7,6.2,7,6.1,6.9,6C6.8,5.9,6.7,5.9,6.6,5.9z"></path></svg>
										</span>
									</th>
								</tr>
							</thead>
							<colgroup>
								<col class="column-row-selector" />
								<col class="column-store-icon" />
								<col class="column-app-name" />
								<col class="column-revenue" />
								<col class="column-downloads" />
								<col class="column-more" />
								<col class="column-percentage-of-total" />
							</colgroup>
							<tbody>
								<tr>
									<td class="app-data-cell-show-hide">
										<div class="form-field--checkbox-list form-field--checkbox-list--inline form-field--checkbox--hide-label">
											<ul>
												<li>
													<input type="checkbox" name="checkboxShowRow1" id="checkboxShowRow1" checked>
													<label for="checkboxShowRow1" class="checkboxLabel">Show</label>
													<label for="checkboxShowRow1" class="checkboxLabelVisible">Show</label>
												</li>
											</ul>
										</div>										
									</td>
									<td><span class="data-table__store ref-icon-after--apple"></span></td>
									<td class="app-data-cell-app-details">
										<div class="data-table__app-summary">
											<img src="images/icon-flag-usa.png" alt="USA Flag" />
											<div>
												<h2 class="data-table__app-summary__app-name"><a href="#">USA</a></h2>
											</div>
										</div>
									</td>
									<td>
										<div class="app-data-revenue">
											<span>£10,843,002</span>
											<span class="data-table__growth negative-colour">-3%</span>
										</div>
									</td>
									<td>
										<div class="app-data-downloads">
											<span>16,342,568</span>
											<span class="data-table__growth positive-colour">+2%</span>
										</div>										
									</td>
									<td class="app-data-cell-more">
										<a href="#" class="more-data-link">More</a>
										<div class="more-app-data">
											<dl>
												<div>
													<dt>Installed Updates</dt>
													<dd>4,578 <span>+ 15%</span></dd>
												</div>
												<div>
													<dt>Re-downloads</dt>
													<dd>2,001 <span>- 3%</span></dd>
												</div>
											</dl>
										</div>
									</td>
									<td>
										<div class="data-table__value-bar">
											<span>60%</span>
											<div><span style="width: 60%;"></span></div>
										</div>
										<div class="data-table__value-bar">
											<span>49%</span>
											<div><span style="width: 49%;"></span></div>
										</div>
									</td>
								</tr>

								<tr>
									<td class="app-data-cell-show-hide">
										<div class="form-field--checkbox-list form-field--checkbox-list--inline form-field--checkbox--hide-label">
											<ul>
												<li>
													<input type="checkbox" name="checkboxShowRow2" id="checkboxShowRow2" checked>
													<label for="checkboxShowRow2" class="checkboxLabel">Show</label>
													<label for="checkboxShowRow2" class="checkboxLabelVisible">Show</label>
												</li>
											</ul>
										</div>										
									</td>
									<td><span class="data-table__store ref-icon-after--apple"></span></td>
									<td class="app-data-cell-app-details">
										<div class="data-table__app-summary">
											<img src="images/icon-flag-gb.png" alt="UK Flag" />
											<div>
												<h2 class="data-table__app-summary__app-name"><a href="#">United Kingdom</a></h2>
											</div>
										</div>
									</td>
									<td>
										<div class="app-data-revenue">
											<span>£11,529,654</span>
											<span class="data-table__growth negative-colour">-2%</span>
										</div>
									</td>
									<td>
										<div class="app-data-downloads">
											<span>21,002,568</span>
											<span class="data-table__growth positive-colour">+12%</span>
										</div>
									</td>
									<td class="app-data-cell-more">
										<a href="#" class="more-data-link">More</a>
										<div class="more-app-data">
											<dl>
												<div>
													<dt>Installed Updates</dt>
													<dd>4,578 <span>+ 15%</span></dd>
												</div>
												<div>
													<dt>Re-downloads</dt>
													<dd>2,001 <span>- 3%</span></dd>
												</div>
											</dl>
										</div>
									</td>
									<td>
										<div class="data-table__value-bar">
											<span>73%</span>
											<div><span style="width: 73%;"></span></div>
										</div>
										<div class="data-table__value-bar">
											<span>27%</span>
											<div><span style="width: 27%;"></span></div>
										</div>
									</td>
								</tr>

								<tr>
									<td class="app-data-cell-show-hide">
										<div class="form-field--checkbox-list form-field--checkbox-list--inline form-field--checkbox--hide-label">
											<ul>
												<li>
													<input type="checkbox" name="checkboxShowRow3" id="checkboxShowRow3" checked>
													<label for="checkboxShowRow3" class="checkboxLabel">Show</label>
													<label for="checkboxShowRow3" class="checkboxLabelVisible">Show</label>
												</li>
											</ul>
										</div>										
									</td>
									<td><span class="data-table__store ref-icon-after--play-store"></span></td>
									<td class="app-data-cell-app-details">
										<div class="data-table__app-summary">
											<img src="images/icon-flag-china.png" alt="China Flag" />
											<div>
												<h2 class="data-table__app-summary__app-name"><a href="#">China</a></h2>
											</div>
										</div>
									</td>
									<td>
										<div class="app-data-revenue">
											<span>£11,529,654</span>
											<span class="data-table__growth negative-colour">-2%</span>
										</div>
									</td>
									<td>
										<div class="app-data-downloads">
											<span>21,002,568</span>
											<span class="data-table__growth positive-colour">+12%</span>
										</div>
									</td>
									<td class="app-data-cell-more">
										<a href="#" class="more-data-link">More</a>
										<div class="more-app-data">
											<dl>
												<div>
													<dt>Installed Updates</dt>
													<dd>4,578 <span>+ 15%</span></dd>
												</div>
												<div>
													<dt>Re-downloads</dt>
													<dd>2,001 <span>- 3%</span></dd>
												</div>
											</dl>
										</div>
									</td>
									<td>
										<div class="data-table__value-bar">
											<span>73%</span>
											<div><span style="width: 73%;"></span></div>
										</div>
										<div class="data-table__value-bar">
											<span>27%</span>
											<div><span style="width: 27%;"></span></div>
										</div>
									</td>
								</tr>

								<tr>
									<td class="app-data-cell-show-hide">
										<div class="form-field--checkbox-list form-field--checkbox-list--inline form-field--checkbox--hide-label">
											<ul>
												<li>
													<input type="checkbox" name="checkboxShowRow4" id="checkboxShowRow4" checked>
													<label for="checkboxShowRow4" class="checkboxLabel">Show</label>
													<label for="checkboxShowRow4" class="checkboxLabelVisible">Show</label>
												</li>
											</ul>
										</div>										
									</td>
									<td><span class="data-table__store ref-icon-after--apple"></span></td>
									<td class="app-data-cell-app-details">
										<div class="data-table__app-summary">
											<img src="images/icon-flag-fra.png" alt="France Flag" />
											<div>
												<h2 class="data-table__app-summary__app-name"><a href="#">France</a></h2>
											</div>
										</div>
									</td>
									<td>
										<div class="app-data-revenue">
											<span>£11,529,654</span>
											<span class="data-table__growth negative-colour">-2%</span>
										</div>
									</td>
									<td>
										<div class="app-data-downloads">
											<span>21,002,568</span>
											<span class="data-table__growth positive-colour">+12%</span>
										</div>
									</td>
									<td class="app-data-cell-more">
										<a href="#" class="more-data-link">More</a>
										<div class="more-app-data">
											<dl>
												<div>
													<dt>Installed Updates</dt>
													<dd>4,578 <span>+ 15%</span></dd>
												</div>
												<div>
													<dt>Re-downloads</dt>
													<dd>2,001 <span>- 3%</span></dd>
												</div>
											</dl>
										</div>
									</td>
									<td>
										<div class="data-table__value-bar">
											<span>73%</span>
											<div><span style="width: 73%;"></span></div>
										</div>
										<div class="data-table__value-bar">
											<span>27%</span>
											<div><span style="width: 27%;"></span></div>
										</div>
									</td>
								</tr>

								<tr>
									<td class="app-data-cell-show-hide">
										<div class="form-field--checkbox-list form-field--checkbox-list--inline form-field--checkbox--hide-label">
											<ul>
												<li>
													<input type="checkbox" name="checkboxShowRow5" id="checkboxShowRow5">
													<label for="checkboxShowRow5" class="checkboxLabel">Show</label>
													<label for="checkboxShowRow5" class="checkboxLabelVisible">Show</label>
												</li>
											</ul>
										</div>										
									</td>
									<td><span class="data-table__store ref-icon-after--apple"></span></td>
									<td class="app-data-cell-app-details">
										<div class="data-table__app-summary">
											<img src="images/icon-flag-ger.png" alt="Germany Flag" />
											<div>
												<h2 class="data-table__app-summary__app-name"><a href="#">Germany</a></h2>
											</div>
										</div>
									</td>
									<td>
										<div class="app-data-revenue">
											<span>£11,529,654</span>
											<span class="data-table__growth negative-colour">-2%</span>
										</div>
									</td>
									<td>
										<div class="app-data-downloads">
											<span>21,002,568</span>
											<span class="data-table__growth positive-colour">+12%</span>
										</div>
									</td>
									<td class="app-data-cell-more">
										<a href="#" class="more-data-link">More</a>
										<div class="more-app-data">
											<dl>
												<div>
													<dt>Installed Updates</dt>
													<dd>4,578 <span>+ 15%</span></dd>
												</div>
												<div>
													<dt>Re-downloads</dt>
													<dd>2,001 <span>- 3%</span></dd>
												</div>
											</dl>
										</div>
									</td>
									<td>
										<div class="data-table__value-bar">
											<span>73%</span>
											<div><span style="width: 73%;"></span></div>
										</div>
										<div class="data-table__value-bar">
											<span>27%</span>
											<div><span style="width: 27%;"></span></div>
										</div>
									</td>
								</tr>

								<tr>
									<td class="app-data-cell-show-hide">
										<div class="form-field--checkbox-list form-field--checkbox-list--inline form-field--checkbox--hide-label">
											<ul>
												<li>
													<input type="checkbox" name="checkboxShowRow6" id="checkboxShowRow6">
													<label for="checkboxShowRow6" class="checkboxLabel">Show</label>
													<label for="checkboxShowRow6" class="checkboxLabelVisible">Show</label>
												</li>
											</ul>
										</div>										
									</td>
									<td><span class="data-table__store ref-icon-after--apple"></span></td>
									<td class="app-data-cell-app-details">
										<div class="data-table__app-summary">
											<img src="images/icon-flag-ita.png" alt="Italy Flag" />
											<div>
												<h2 class="data-table__app-summary__app-name"><a href="#">Italy</a></h2>
											</div>
										</div>
									</td>
									<td>
										<div class="app-data-revenue">
											<span>£11,529,654</span>
											<span class="data-table__growth negative-colour">-2%</span>
										</div>
									</td>
									<td>
										<div class="app-data-downloads">
											<span>21,002,568</span>
											<span class="data-table__growth positive-colour">+12%</span>
										</div>
									</td>
									<td class="app-data-cell-more">
										<a href="#" class="more-data-link">More</a>
										<div class="more-app-data">
											<dl>
												<div>
													<dt>Installed Updates</dt>
													<dd>4,578 <span>+ 15%</span></dd>
												</div>
												<div>
													<dt>Re-downloads</dt>
													<dd>2,001 <span>- 3%</span></dd>
												</div>
											</dl>
										</div>
									</td>
									<td>
										<div class="data-table__value-bar">
											<span>73%</span>
											<div><span style="width: 73%;"></span></div>
										</div>
										<div class="data-table__value-bar">
											<span>27%</span>
											<div><span style="width: 27%;"></span></div>
										</div>
									</td>
								</tr>
							</tbody>
						</table>
					</section>
				</div>
			</div>			
			
		</div>

		<div class="grid-container" id="js-component-import--global-footer"></div>
	</div>	

	<div id="js-component-import--account-container" class="panel-right-container js-account-container"></div>
	<div id="js-component-import--search-container" class="panel-right-container js-search-container"></div>

 	<script src="js/vendor/jquery-1.11.1.min.js"></script>
 	<script src="js/vendor/handlebars-v2.0.0.js"></script> <!-- static templates only -->
 	<script src="js-v2/templates/templates.js"></script> <!-- static templates only -->
 	<script src="js/vendor/modernizr.2.8.3.custom.min.js"></script>

	<!--[if IE 9]>
		<script src="js/vendor/jquery.mCustomScrollbar.concat.min.js"></script>
	<![endif]-->

	<div id="js-appendScriptsContainer"></div>

	<script src="js-v2/app-include-templates-logged-in.js"></script> <!-- static templates only -->
  <script src="js-v2/application.js"></script>

  <script src="js/vendor/highcharts-custom.js"></script>
  <script src="js/data-vis/data-vis-release.js"></script> <!-- mock data -->
  <script>
  	// Utility function
		Date.prototype.addHours= function(h){
      this.setHours(this.getHours()+h);
      return this;
    }

  	function initScripts() {

  		new Page();
  		new AllDropDowns();
  		new FormInteractions();
  		$('.js-select-box').each(function() {
  			new FormFieldSelect($(this));
  		});
  		$('.js-multi-select-box').each(function() {
  			new FormFieldMultipleSelect($(this));
  		});
  		$('.js-tabs').each(function() {
  			new Tabs($(this));
  		});

  		// Mock function for template
  		$('#topAppsDownloads').hide();
  		$('.js-mock-switch-revenue').on("click", function(){
  			$('#topAppsDownloads').hide();
  			$('#topAppsRevenue').show();
  		});
  		$('.js-mock-switch-downloads').on("click", function(){
  			$('#topAppsDownloads').show();
  			$('#topAppsRevenue').hide();
  		});

  		$('.js-whats-this-tooltip').each(function(){
  			new WhatsThisPopup($(this));
  		});

  		$('.js-mock-remove-row').on("click", function(e){
  			e.preventDefault();
  			$(this).parents('.chart-key-full__row').remove();
  		});

  		// HIGHCHARTS
  		var monthNames = [
        "Jan", "Feb", "Mar",
        "Apr", "May", "Jun", "Jul",
        "Aug", "Sep", "Oct",
        "Nov", "Dec"
      ];

      var hasBeenSet = false,
      		lastPoint;

	    (function (H) {

	      var customIconRect;
	      H.wrap(H.Tooltip.prototype, 'refresh', function (proceed) {

	        proceed.apply(this, Array.prototype.slice.call(arguments, 1));

	        if(this.chart.customIconRect !== undefined) {
	          this.chart.customIconRect.destroy();
	        }

	        var $axisLabel = $(this.chart.container).find('.highcharts-axis-label'),
	            leftOffset = 29,
	            axisLabelYPos = $("#" + arguments[1][0].series.chart.container.id + "").height() - arguments[1][0].series.xAxis.bottom,
	            //axisLabelYPos = arguments[1][0].series.chart.containerHeight - arguments[1][0].series.xAxis.bottom,
	            axisLabelXPos = arguments[1][0].plotX - leftOffset,
	            timeStampString = arguments[1][0].x + "",
	            timeStampString = timeStampString.substring(0,10),
	            xAxisDate = new Date(timeStampString*1000).addHours(12),
	            formattedDate = xAxisDate.getDate() + " " + monthNames[xAxisDate.getMonth()];

	        if($axisLabel.length > 0) {       

	          var labelYPos = axisLabelYPos + 18,
	              labelXPos = axisLabelXPos + 7;

	          $axisLabel.attr("transform", "translate(" + labelXPos + "," + labelYPos + ")");
	          $axisLabel.find("text").text(formattedDate);

	        } else {
	          this.chart.renderer.label(formattedDate, axisLabelXPos+7, axisLabelYPos + 18, 'callout', 0, 0, false, true, "axis-label")
	          .css({
	            color: '#fcfdfd',
	            fontSize: '12px',
	            fontFamily: 'Source Sans Pro',
	            fontWeight: 600
	          })
	          .attr({
	            zIndex: 100
	          })
	          .add();
	        }

	        this.chart.customIconRect = this.chart.renderer.image('images/axis-label-background.png', axisLabelXPos, axisLabelYPos + 4, 54, 20)
	        .attr({
	          zIndex: 99
	        })
	        .add();


	        // MIRROR A SPLIT GRAPH HOVER
	        // TODO - try this for better tooltip synchronize - http://www.highcharts.com/demo/synchronized-charts
	        if(pageCharts.length > 1) {
	        	if(arguments[1][0].series.name == 'grossingrank') {
	        		chartIndexToHover = 1;
	        	} else if(arguments[1][0].series.name == 'downloadsrank') {
	        		chartIndexToHover = 0;
	        	}

	        	// find line index of currently selected line
	        	var seriesIndexToHover = 0;
	        	$('.chart').each(function(){
	        		var $chart = $(this);
	        		if($(this).attr("data-highcharts-chart") == chartIndexToHover) {
	        			var counter = 0;
	        			$chart.find('.highcharts-series path:nth-child(2)').each(function(){
	        				if($(this).attr("stroke-width") == 3.1) {
	        					seriesIndexToHover = counter;
	        				}
	        				counter ++;
	        			});
	        		}
	        	});

	        	// set the hover on the other graph
	        	var pointIndex = arguments[1][0].index;
	        	if(!hasBeenSet) {
	        		hasBeenSet = true;
	        		if(lastPoint) {
	        			pageCharts[chartIndexToHover].series[seriesIndexToHover].data[lastPoint].setState();
            		pageCharts[chartIndexToHover].tooltip.hide();	        			
	        		}
	        		lastPoint = pointIndex;
							var arrayOfPointsToHover = [];
							for(var s = 0; s < pageCharts[chartIndexToHover].series.length; s++) {
								if(pageCharts[chartIndexToHover].series[s].visible) {
									arrayOfPointsToHover.push(pageCharts[chartIndexToHover].series[s].points[pointIndex]);
								}								
							}
	        		pageCharts[chartIndexToHover].tooltip.refresh(arrayOfPointsToHover);
		        		
		        	setTimeout(function(){
		        		hasBeenSet = false;
		        	}, 10);
		        }
	        }
	      });

				H.wrap(H.Series.prototype, 'hide', function (proceed) {

				  // Before the hide function
				  var par = $(this.graph.element).parents('.highcharts-series').attr("class", "highcharts-series is-transparent-fade");
				  var instance = this;
				  // Now apply the original function with the original arguments, 
				  // which are sliced off this function's arguments
				  setTimeout(function() {
				  	proceed.apply(instance, Array.prototype.slice.call(arguments, 1));
				  	par.attr("class", "highcharts-series");				  	
				  }, 200);
				});

	    }(Highcharts));

	    pageCharts = [];

	    function generateChart(containerId, dataType, seriesData, seriesColour) {

	    	var seriesColour,
	    			seriesArray = [],
	    			yAxesSettings; // Mock only

	    	
    		yAxesSettings = [{
    			reversed: true,
          offset: -27,
          showFirstLabel: false,
          showLastLabel: true,
          gridLineWidth: 0,
          labels: {
          	align: 'left',
          	style: {
          		color: '#81879d',
          		fontSize: "12px"
          	}
          },
          title: {
          	text: null
          }            
        }];

        for(var a = 0; a < seriesData.length; a++) {
        	seriesArray.push({
	         	yAxis: 0,
	          name: dataType,
	          id : dataType,
	          color: (dataType == "downloadsrank" && a == 0) ? "#6d69c5" : seriesColour[a],
	          data: seriesData[a],
	          pointStart: Date.UTC(2016, 0, 1),
	          pointInterval: 24 * 3600 * 1000, // one day
	          lineColor: (dataType == "downloadsrank" && a == 0) ? "#6d69c5" : seriesColour[a],
	          lineWidth: 3,
	          lineWidthPlus: 0,
	          fillOpacity: 0,
	          marker: {
	            enabled: false,
	            states: {
	              hover: {
	                enabled: true,
	                lineWidth: 0,
	                lineWidthPlus: 0,
	                radius: 4,
	                radiusPlus: 0,
	              }
	            }
	          }
	        });
        }

	    	// Generate Demo Chart
				var chart = new Highcharts.Chart({
					chart: {
	          renderTo: containerId,
						marginLeft: 0,
						marginRight: 0,
						marginBottom: 24,
						marginTop: 0,
						spacing: [0,0,0,0],
						height: 285,
						backgroundColor: '#fcfdfd',
						plotBackgroundColor: '#f2f2f5',
			   		type: 'area',
			   		animation: false,
			   		style: {
	            fontFamily: 'Source Sans Pro'
	          },
	          events: {
	            load: function() {
	                var countIndex = 0;
	                var graphPointAnimationDelay = 20;

	                // set the series opacity's on load
	                var countIndex = 0;
	                $('#' + containerId + ' .highcharts-series path:nth-child(2)').each(function() {
	                  if (countIndex > 0) {                  	
	                    $(this).attr("style", "opacity: 0.3");
	                  } else {
	                    $(this).attr("style", "opacity: 1");
	                  }
	                  countIndex++;
	                });
	            }
	          }
				  },
				  legend: {
				  	enabled: false
				  },
				  title: {
	            text: ''
	        },
	        yAxis: yAxesSettings,
	        xAxis: {
	        	startOnTick: false,
	        	endOnTick: false,
	        	showFirstLabel: false,
	          maxPadding: 0,
	          minPadding: 0,
	          type: 'datetime',
	          dateTimeLabelFormats: {
	              day: '%e %b'
	          },
	          tickmarkPlacement: 'on',
	          tickPixelInterval: 30,
	          tickLength: 0,     
	          labels: {
	          	align: 'center',
	            x: 0,
	            y: 18,
	            step: 4,
	            style: {
	              color: '#81879d',
	              fontSize: "12px"
	            }
	          }
	        },
	        plotOptions: {
	        	area: {
	            trackByArea: false,
	        		tooltip: {
	        			followPointer: true
	        		},
	        		states: {
	        			hover: {
	        				halo: {
	        					size: 0
	        				},
	        				lineWidthPlus: 0
	        			}
	        		}        		
	        	},
	          series: {
	            events: {
	              click: function() {
	                var that = this;

                  var count = 0;
                  $('#' + containerId + ' .highcharts-series').each(function(){
                  	if(count != that.index) {
	                    var thisFillPath = $(this).find('path:nth-child(2)');                        
	                    if(thisFillPath.attr("stroke-width") == 3.1) {
	                      that.chart.series[count].update({
	                        lineWidth: 3
	                      });           
	                      var counterTwo = 0;
	                      $('#' + containerId + ' .highcharts-series').each(function(){
	                        if(counterTwo == count) {
	                          thisFillPath = $(this).find('path:nth-child(2)');
	                        }
	                        counterTwo++;
	                      });                          
	                      thisFillPath.css("opacity", "1");
	                      thisFillPath.animate({ "opacity": 0.3 }, 250);
	                      thisFillPath.siblings("path").css("opacity", "1");
	                      thisFillPath.siblings("path").animate({ "opacity": 0.1 }, 250);
	                    }
	                  }
                    count++;
                  });

	                this.update({
	                  lineWidth: 3.1
	                });	                

	                // update the graph line CSS class's after this.udpate
	                setGraphCSSClasses(containerId);

	                var $selectedLine;
	                $('#' + containerId + ' .highcharts-series path:nth-child(2)').each(function(){
	                  var $this = $(this);
	                  if($this.attr("stroke-width") == 3.1) { // TODO, this isn't fading in - nice to have            	
	                    $this.css("opacity", "0.3");
	                    $this.animate({ "opacity": 1 }, 250);
	                    $this.siblings("path").css("opacity", "0.1");
	                    $this.siblings("path").animate({ "opacity": 1 }, 250);
	                    $selectedLine = $this;
	                  }
	                });

	                // UPDATE THE MIRRORED CHART
	                // click the mirroring chart line
	                if($selectedLine) {
	                	$("." + $selectedLine.attr("class")).each(function(){
                    	if(!$(this).is($selectedLine)) {
                    		var mirrorChartContainer = $(this).parents('.chart'),
                    				mirrorChartIndex = mirrorChartContainer.attr("data-highcharts-chart"),
                    				mirrorContainerId = mirrorChartContainer.attr("id");

                    		// uodate the mirrored chart
                    		for(var i = 0; i < pageCharts[mirrorChartIndex].series.length; i++) {

			                    var count = 0;
			                    $('#' + mirrorContainerId + ' .highcharts-series').each(function(){
			                      if(count == i) {
			                        var thisFillPath = $(this).find('path:nth-child(2)');                        
			                        if(thisFillPath.attr("stroke-width") == 3.1) {
			                          pageCharts[mirrorChartIndex].series[i].update({
			                            lineWidth: 3
			                          });           
			                          var counterTwo = 0;
			                          $('#' + mirrorContainerId + ' .highcharts-series').each(function(){
			                            if(counterTwo == count) {
			                              thisFillPath = $(this).find('path:nth-child(2)');
			                            }
			                            counterTwo++;
			                          });                          
			                          thisFillPath.css("opacity", "1");
			                          thisFillPath.animate({ "opacity": 0.3 }, 250);
			                          thisFillPath.siblings("path").css("opacity", "1");
			                          thisFillPath.siblings("path").animate({ "opacity": 0.1 }, 250);
			                        }
			                      }
			                      count++;
			                    });
				              	};

				              	pageCharts[mirrorChartIndex].series[that.index].update({
				                  lineWidth: 3.1
				                });	 

				                // update the graph line CSS class's after this.udpate
				                setGraphCSSClasses(mirrorContainerId);

				                var $selectedLine;
				                $('#' + mirrorContainerId + ' .highcharts-series path:nth-child(2)').each(function(){
				                  var $this = $(this);
				                  if($this.attr("stroke-width") == 3.1) {	                  	
				                    $this.css("opacity", "1");
				                    $this.siblings("path").css("opacity", "0.1");
				                    $this.siblings("path").animate({ "opacity": 1 }, 250);
				                    $selectedLine = $this;
				                  }
				                });
                    	}
                    });
	                }

	              },
	            },
	            cursor: 'pointer',
	            animation: false
	          },
	      	},
	        series: seriesArray,
	        tooltip: {
	        	useHTML: true,
	        	shared: true,
	          formatter: function() {
	            var instance = this;
	            var s = "";            
	            $.each(instance.points, function (index, value) {
	                var chartSeries = value.series;
	                var imgString = "<img src=images/icon-chart-tooltip-downloads.png alt='Rank icon' class=icon-downloads />";
	                s += '<div class="custom-tooltip ' + chartSeries.name + '" style="background-color: ' + chartSeries.color + '">' + imgString + value.y + '</div>';
	            });
	            return s;
	          },
	        	backgroundColor: 'transparent',
	          borderWidth: 0,
	          borderColor: '#dae3ed',
				    crosshairs: [{
	            width: 0,
	            color: '#9ea7c4'
	          }],
	          shadow: {
	            color: 'rgba(0,0,0,0.24)',
	            width: 0,
	            offsetX: 1,
	            offsetY: 1
	        	},
	        	snap: 25
	        }
		    });

	      pageCharts.push(chart);
			} // end generateChart()			


   		function setGraphCSSClasses(containerId) {
   			var counter = 0;

        $('#' + containerId + ' .highcharts-series path:nth-child(2)').each(function(){
          $(this).attr("class", "series-class-" + counter);
          $(this).parent('.highcharts-series').find('path:first-child').attr("class", "series-fill-" + counter);
          counter++;
        });
   		} // end setGraphCSSClasses


   		function handleHideGraphLine(seriesIndexOfLineBeingHidden) {
   			
   			pageCharts[0].series[seriesIndexOfLineBeingHidden].update({
          lineWidth: 3
        });
        pageCharts[1].series[seriesIndexOfLineBeingHidden].update({
          lineWidth: 3
        });

        $('.highcharts-series path:nth-child(2)').each(function(){
          var $this = $(this);
          if($this.attr("stroke-width") == 3) {
          	$this.css("opacity", "0.3");
            $this.siblings("path").css("opacity", "0.1");
          }
        });

				for(var i = 0; i < pageCharts[0].series.length; i++) {
          if(i != seriesIndexOfLineBeingHidden) {
          	if(pageCharts[0].series[i].visible) {
          		pageCharts[0].series[i].update({
			          lineWidth: 3.1
			        });
			        pageCharts[1].series[i].update({
			          lineWidth: 3.1
			        });

			        // set CSS classes on lines and fills
			        setGraphCSSClasses("chart-revenue");
			        setGraphCSSClasses("chart-downloads");

			        $('.highcharts-series path:nth-child(2)').each(function(){
			          var $this = $(this);
			          if($this.attr("stroke-width") == 3.1) {	                  	
			            $this.css("opacity", "1");
			            $this.siblings("path").css("opacity", "0.1");
			            $this.siblings("path").animate({ "opacity": 1 }, 250);
			          }
			        });

          		break;
          	}
          }
        };
			} // end handleHideGraphLine


			function handleChartInteraction() {
				
				// Hide/show series from key
				$('.js-toggle-total-series').click(function(){
					var $this = $(this);
					var chartIndex = $this.data("chart-index");
					var seriesIndex = $this.data("series-index");
					if($(this).is(":checked")) {
						// turn off same series on both charts
						pageCharts[0].series[seriesIndex].show();
						pageCharts[1].series[seriesIndex].show();
					} else {
						setTimeout(function(){
							// CHECK IF LINE IS SELECTED AND SELECT NEXT LINE
							if(pageCharts[0].series[seriesIndex].graph.strokeWidth == 3.1) {
								handleHideGraphLine(seriesIndex)
							}

							// Hide the series
							pageCharts[0].series[seriesIndex].hide();
							pageCharts[1].series[seriesIndex].hide();
						}, 200);
					}
					// turn off other checkboxes in other chart key
					$('.js-toggle-total-series').each(function(){
						var $thisToggle = $(this);
						if(!$thisToggle.is($this)) {
							if($thisToggle.data("series-index") == seriesIndex) {
								if($thisToggle[0].checked) {
									$thisToggle[0].checked = false;
								} else {
									$thisToggle[0].checked = true;
								}
							}
						}
					});				
				});

				// toggle a row on/off in the key
				$('.js-toggle-row-off').click(function(){
					var counter = 0,
							toggleAllValue = $(this)[0].checked;
					$(this).parents('.chart-key-full__row').find('input[type=checkbox]').each(function(){
						var $checkbox = $(this);
						if(counter > 0) {
							if(toggleAllValue && !$checkbox[0].checked) {
								$checkbox.trigger("click");
							} else if(!toggleAllValue && $checkbox[0].checked) {
								$checkbox.trigger("click");
							}
						}
						counter++;
					});
				});

				// set first line to have larger width for interaction functionality
				pageCharts[0].series[0].update({
          lineWidth: 3.1
        });
        pageCharts[1].series[0].update({
          lineWidth: 3.1
        });

        // set CSS classes on lines and fills
        setGraphCSSClasses("chart-revenue");
        setGraphCSSClasses("chart-downloads");

			} // end handleChartInteraction();


			// Generate Charts
			setTimeout(function() {

				var mockDataRevenue = [],
						mockDataDownloads = [];

				// create mock data
				// chartData var comes from external js/data-vis/data-vis-release.js
				for(var s = 0; s < 5; s++) {
					var mockSeries = [];
					for(var d = 0; d < 20; d++) {
						if(chartData[s].data[d]) {
							mockSeries.push(chartData[s].data[d].value);
						} else {
							mockSeries.push(50);
						}
					}
					mockDataRevenue.push(mockSeries);
				}
				for(var s = 5; s < 10; s++) {
					var mockSeries = [];
					for(var d = 0; d < 20; d++) {
						if(chartData[s].data[d]) {
							mockSeries.push(chartData[s].data[d].value);
						} else {
							mockSeries.push(1);
						}
					}
					mockDataDownloads.push(mockSeries);
				}

				var seriesColours = ["#f5c943", "#a5c0d8", "#0f9fbd", "#df8092", "#dbbca4"];
				generateChart('chart-revenue', "grossingrank", mockDataRevenue, seriesColours);
				generateChart('chart-downloads', "downloadsrank", mockDataDownloads, seriesColours);
				$('.chart-container').addClass('is-animated');
				handleChartInteraction();
			}, 500);

  	}

  	window.onready = initScripts();
  </script>
</body>