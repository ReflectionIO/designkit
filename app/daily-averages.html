<!doctype html>
<html lang="en" class="no-js">
<head>
	<meta charset="utf-8" />
	<title>Reflection V2, Data Lab, Top Downloads</title>
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<link rel="stylesheet" type="text/css" href="design-kit-v2.css" />
	<link rel="stylesheet" href="js/vendor/jquery.mCustomScrollbar.css" />
<script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.16/webfont.js"></script>
<script>
  WebFont.load({
    google: {
      families: ['Source Sans Pro:400,600,700', 'Lato:400,700,400italic']
    }
  });
</script>
</head>
<body>
	<!--[if (lt IE 9)]>
      <div class="window-warning">
  			<p>Uh oh... Reflection doesn't work in this browser. &nbsp; &nbsp;<a href="http://outdatedbrowser.com/en" target="_blank">Download a compatible browser</a></p>
  		</div>
  <![endif]-->

  <header id="js-component-import--global-header" class="global-header"></header>
  
	<div id="js-component-import--panel-left" class="panel-left js-panel-left js-custom-scrollbar" data-mcs-theme="minimal-dark"></div>

	<div class="l-page-container">
		<div id="main" class="l-main" role="main">
			<div class="page-lab-base page-lab-weekly-averages">
				<img src="images/data-lab-article-making-top-mock-data.png" alt="Sharing image of the chart" style="position: fixed; left: -999rem;" />

				<div class="grid__row">
					<div class="grid__row--heading-row__right">
	 					<div class="sharing-container">
	 						<div class="addthis_sharing_toolbox"></div>
	 					</div>
					</div>
				</div>

				<div class="data-lab-article-intro">
					<h1 class="data-lab-article-intro__heading">What Are the Average Downloads or Revenue by Day of the Week</h1>
					<p class="data-lab-article-intro__paragraph">Discover the average daily downloads or revenue distribution by week day over the course of a particular month. Compare categories and countries to assess the time to plan app launch and live ops.</p>
				</div>

				<div class="weekday-chart">

					<div class="weekday-chart-item">
						<label>Monday</label>
						<div class="weekday-chart-item__container">
							<div class="weekday-chart-item__bar-container">
								<div class="weekday-chart-item__bar"></div>
								<div class="weekday-average-marker"></div>
								<div class="weekday-chart-item__bar__mean-value"></div>
								<div class="weekday-chart-item__bar__min-value"></div>
								<div class="weekday-chart-item__bar__max-value"></div>	
							</div>
						</div>
					</div>

					<div class="weekday-chart-item">
						<label>Tuesday</label>
						<div class="weekday-chart-item__container">
							<div class="weekday-chart-item__bar-container">
								<div class="weekday-chart-item__bar"></div>
								<div class="weekday-average-marker"></div>
								<div class="weekday-chart-item__bar__mean-value"></div>
								<div class="weekday-chart-item__bar__min-value"></div>
								<div class="weekday-chart-item__bar__max-value"></div>	
							</div>
						</div>
					</div>
					<div class="weekday-chart-item">
						<label>Wednesday</label>
						<div class="weekday-chart-item__container">
							<div class="weekday-chart-item__bar-container">
								<div class="weekday-chart-item__bar"></div>
								<div class="weekday-average-marker"></div>
								<div class="weekday-chart-item__bar__mean-value"></div>
								<div class="weekday-chart-item__bar__min-value"></div>
								<div class="weekday-chart-item__bar__max-value"></div>	
							</div>
						</div>
					</div>
					<div class="weekday-chart-item">
						<label>Thursday</label>
						<div class="weekday-chart-item__container">
							<div class="weekday-chart-item__bar-container">
								<div class="weekday-chart-item__bar"></div>
								<div class="weekday-average-marker"></div>
								<div class="weekday-chart-item__bar__mean-value"></div>
								<div class="weekday-chart-item__bar__min-value"></div>
								<div class="weekday-chart-item__bar__max-value"></div>	
							</div>
						</div>
					</div>
					<div class="weekday-chart-item">
						<label>Friday</label>
						<div class="weekday-chart-item__container">
							<div class="weekday-chart-item__bar-container">
								<div class="weekday-chart-item__bar"></div>
								<div class="weekday-average-marker"></div>
								<div class="weekday-chart-item__bar__mean-value"></div>
								<div class="weekday-chart-item__bar__min-value"></div>
								<div class="weekday-chart-item__bar__max-value"></div>	
							</div>
						</div>
					</div>
					<div class="weekday-chart-item">
						<label>Saturday</label>
						<div class="weekday-chart-item__container">
							<div class="weekday-chart-item__bar-container">
								<div class="weekday-chart-item__bar"></div>
								<div class="weekday-average-marker"></div>
								<div class="weekday-chart-item__bar__mean-value"></div>
								<div class="weekday-chart-item__bar__min-value"></div>
								<div class="weekday-chart-item__bar__max-value"></div>	
							</div>
						</div>
					</div>
					<div class="weekday-chart-item">
						<label>Sunday</label>
						<div class="weekday-chart-item__container">
							<div class="weekday-chart-item__bar-container">
								<div class="weekday-chart-item__bar"></div>
								<div class="weekday-average-marker"></div>
								<div class="weekday-chart-item__bar__mean-value"></div>
								<div class="weekday-chart-item__bar__min-value"></div>
								<div class="weekday-chart-item__bar__max-value"></div>	
							</div>
						</div>												
					</div>
				</div>

			</div>
		</div>
	</div>

	<script src="js/vendor/jquery-1.11.1.min.js"></script>
 	<script src="js/vendor/handlebars-v2.0.0.js"></script> <!-- static templates only -->
 	<script src="js-v2/templates/templates.js"></script> <!-- static templates only -->
 	<script src="js/vendor/modernizr.2.8.3.custom.min.js"></script>

	<!--[if IE 9]>
		<script src="js/vendor/jquery.mCustomScrollbar.concat.min.js"></script>
	<![endif]-->

	<div id="js-appendScriptsContainer"></div>

	<script src="js-v2/app-include-templates.js"></script> <!-- static templates only -->
  <script src="js-v2/application.js"></script>

	<script>
		
		function loadData(dataUrl) {

			$.getJSON( dataUrl, function( data ) {
					
					console.log(data);
					
					var minMaxDifference = data.max - data.min;

					$('.weekday-chart-item').each(function(index) {
						var $this = $(this);
						var thisMinMaxDifference = data.weekdays.max[index].value - data.weekdays.min[index].value;
						var thisContainerWidth = thisMinMaxDifference / minMaxDifference * 100;
						var markerLeft = (data.weekdays.mean[index].value - data.weekdays.min[index].value) / (data.weekdays.max[index].value - data.weekdays.min[index].value) * 100;
						var containerLeft = (data.weekdays.min[index].value - data.min) / minMaxDifference * 100;
						
						$this.find('.weekday-chart-item__bar-container').css({ "width": thisContainerWidth + "%", "left" : containerLeft + "%"});
						$this.find('.weekday-average-marker').css("left", "calc(" + markerLeft + "% - 11px)");
						$this.find('.weekday-chart-item__bar__min-value').text(data.weekdays.min[index].value);
						$this.find('.weekday-chart-item__bar__max-value').text(data.weekdays.max[index].value);
						$this.find('.weekday-chart-item__bar__mean-value').text(data.weekdays.mean[index].value);
						$this.find('.weekday-chart-item__bar__mean-value').css("left", markerLeft + "%");
					});

			});

		}
		
		$(window).on("load", function(){
		  
		  new Page();
			
			setTimeout(function(){
				loadData("js/data-vis/weekly-averages/daily-downloads_GB_FREE_Games_200_PHONE_2016.json");
			}, 1000);

		});

	</script>
</body>
</html>