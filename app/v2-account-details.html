<!doctype html>
<html lang="en" class="no-js">
<head>
	<meta charset="utf-8" />
	<title>Reflection V2, Account Details</title>
	<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<!--[if (gt IE 9)|(IEMobile)|(!IE)]><!-->
		<link rel="stylesheet" type="text/css" href="reflection-main-v2.css" />
	<!--<![endif]-->
	<!--[if IE 9]>
	<![endif]-->
	<!--[if (lt IE 9)]>
		<script src="js/vendor/html5shiv.min.js"></script>
		<link rel="stylesheet" media="screen, projection" type="text/css" href="reflection-main-ie8.css" />
	<![endif]-->
	<link rel="stylesheet" href="js/vendor/jquery.mCustomScrollbar.css" />
<script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.16/webfont.js"></script>
<script>
  WebFont.load({
    google: {
      families: ['Source Sans Pro:400,600,700', 'Lato:400,700,400italic']
    }
  });
</script></head>
<body>
	<!--[if (lt IE 9)]>
      <div class="window-warning">
  			<p>Uh oh... Reflection doesn't work in this browser. &nbsp; &nbsp;<a href="http://outdatedbrowser.com/en" target="_blank">Download a compatible browser</a></p>
  		</div>
  <![endif]-->

  <header id="js-component-import--global-header" class="global-header"></header>
  
	<div id="js-component-import--panel-left" class="panel-left js-panel-left js-custom-scrollbar" data-mcs-theme="minimal-dark"></div>

	<div class="l-page-container">
		<div id="main" class="l-main" role="main">
			
			<div class="page-my-account page-my-account--details">
				<div class="grid-container">
					<header class="my-account__header">
						<div>
							<h1 class="page-title heading-style--heading-three">My Account</h1>
							<h2 class="page-sub-title">Review or update your account details and settings</h1>
						</div>
						<div class="toggle-container">
							<div class="filter-toggle filter-toggle--with-text filter-toggle--large">
								<div class="toggle">
									<input id="toggle--show-popla" name="radiolarge" checked="" type="radio">
									<label for="toggle--show-popla" onclick="location.replace('v2-account-details.html');">
										Account Details
									</label>
								</div>
								<div class="toggle">
									<input id="toggle--show-users" name="radiolarge" type="radio">
									<label for="toggle--show-users" onclick="location.replace('v2-account-licenses.html');">
										Licenses
									</label>
								</div>
								<div class="toggle">
									<input id="toggle--show-share" name="radiolarge" type="radio">
									<label for="toggle--show-share" onclick="location.replace('v2-account-share.html');">
										Sharing My Data
									</label>
								</div>
								<div class="toggle">
									<input id="toggle--show-subscriptions" name="radiolarge" type="radio">
									<label for="toggle--show-subscriptions" onclick="location.replace('v2-account-billing.html');">
										Billing Details
									</label>
								</div>
								<div class="toggle">
									<input id="toggle--show-notifications" name="radiolarge" type="radio">
									<label for="toggle--show-notifications" onclick="location.replace('v2-account-manage-notifications.html');">
										Manage Notfications
									</label>
								</div>
							</div>
						</div>
					</header>

					<section class="grid__column grid__column--one-third">
						<h2 class="heading-style--heading-five my-account-section-title">Account Summary</h2>
						<dl class="account-details__summary">
							<dt>Current Subscription</dt>
							<dd class="account-details__account-type account-details__account-type-pro">Pro</dd>
							<dt>Licenses</dt>
							<dd>3</dd>
							<dt>Total Cost</dt>
							<dd>&pound; 449.99 p/m</dd>
						</dl>
						<a href="#" class="account-details__action-link js-open-modal-close-account">Close Account</a>
					</section>

					<section class="grid__column grid__column--one-third">
 						<h2 class="heading-style--heading-five my-account-section-title">Personal Details</h2>
	 					<form class="reflection-form">
	 						<div class="form-field--split">
			 					<div class="form-field">
									<input type="text" name="firstname" id="firstname" autocomplete="off" value="Johnathan" class="js-edit-details" />
									<label for="username">First Name</label>
								</div>
								<div class="form-field">						
									<input type="text" name="lastname" id="lastname" autocomplete="off" value="Barnes" class="js-edit-details"/>
									<label for="lastname">Last Name</label>
								</div>
							</div>
							<div class="form-field">						
								<input type="text" name="company" id="company" autocomplete="off" value="Electronic Arts" class="js-edit-details"/>
								<label for="company">Company</label>
							</div>
							<div class="form-field">						
								<input type="email" name="email" id="email" autocomplete="off" value="johnathanbarnes@electronicarts.com" class="js-edit-details"/>
								<label for="email">Email</label>
							</div>
							<button class="ref-button--primary--medium is-disabled js-mock-save-changes">
		 						Save Changes
		 					</button>
						</form>
					</section>

					<section class="grid__column grid__column--one-third">
						<h2 class="heading-style--heading-five my-account-section-title">Change Password</h2>	 					
	 					<form class="reflection-form">
		 					<div class="form-field">						
								<input type="password" name="currentPassword" id="currentPassword" autocomplete="off" />
								<label for="currentPassword">Enter Current password</label>
							</div>
							<div class="form-field">
								<input type="password" name="newPassword" id="newPassword" autocomplete="off" class="js-mock-change-password" />
								<label for="newPassword">
									Enter New Password
									<div class="password-strength-indicator-container">
										<span class="password-strength-description">Ok</span>
										<div class="password-strength-indicator"><span class="is-ok"></span></div>
									</div>
								</label>
							</div>
							<button class="ref-button--primary--medium is-disabled js-mock-create-password">
		 						Create New Password
		 					</button>
						</form>
					</section>

				</div>
			</div>

		</div>

		<div class="grid-container" id="js-component-import--global-footer"></div>
	</div>

	<div class="page-overlay page-overlay--close-account js-page-overlay js-page-overlay--close-account">
		<div class="page-popup">
			<div class="popup-content js-popup-content">
				<div class="popup-sections-container">
					<div class="multi-step-container js-multi-step-container">
						<div class="multi-step-section is-viewed-step">
							<h2 class="heading-style--heading-five multi-step-section__heading">Close Account</h2>
							<p>You still have <strong>15 days</strong> remaining of your current billing period. You have a couple of options:</p>
							
							<button class="ref-button--secondary--large button-full-width js-mock-next-step" data-move-to-section="1">
		 						Cancel current subscription upon expiry but keep my account open (it will be free)
		 					</button>
							<button class="ref-button--secondary--large button-full-width js-mock-next-step" data-move-to-section="2">
		 						Close my account completely now
		 					</button>
						</div>

						<div class="multi-step-section">
							<h2 class="heading-style--heading-five multi-step-section__heading">Downgrade Confirmed</h2>
							<p>Okay, at the end of your current billing period we will automatically transfer you onto a Free account.  You can upgrade to Pro again at any time.</p>
							<p>Thanks for continuing to use Reflection, please let us know if you have any comments or questions <a href="#">contact us</a></p>
							<button class="ref-button--secondary--large js-popup-close">
		 						Continue to site
		 					</button>
						</div>
						<div class="multi-step-section">
							<h2 class="heading-style--heading-five multi-step-section__heading">Close Account</h2>
							<p>Please do take a second to tell us why you are closing your account</p>
							<div class="form-field--checkbox-list">
								<ul>
									<li>
										<input type="checkbox" name="checkboxOne" id="checkboxOne" checked="">
										<label for="checkboxOne" class="checkboxLabel">Features and Tools</label>
										<label for="checkboxOne" class="checkboxLabelVisible">Features and Tools</label>
									</li>
									<li>
										<input type="checkbox" name="checkboxTwo" id="checkboxTwo">
										<label for="checkboxTwo" class="checkboxLabel">Cost</label>
										<label for="checkboxTwo" class="checkboxLabelVisible">Cost</label>
									</li>
									<li>
										<input type="checkbox" name="checkboxThree" id="checkboxThree">
										<label for="checkboxThree" class="checkboxLabel">Data accuracy</label>
										<label for="checkboxThree" class="checkboxLabelVisible">Data accuracy</label>
									</li>
								</ul>
							</div>
							<p>Please tell us more so we can respond appropriately</p>
							<textarea class="ref-textarea"></textarea>
							<button class="ref-button--secondary--large button-full-width js-mock-next-step" data-move-to-section="3">
		 						Close Account
		 					</button>
						</div>

						<div class="multi-step-section">
							<h2 class="heading-style--heading-five multi-step-section__heading">Close Account</h2>
							<p>Your Account has been closed. Thank you very much for using Reflection, we hope to see you again in the future.</p>
							<div class="blockquote-container">
								<blockquote>
									<p>Don't cry because it's over, smile because it happened.</p>
									<footer>
										<cite>
											<span>Dr Seuss</span>
										</cite>
									</footer>
								</blockquote>
							</div>
							<button class="ref-button--secondary--large button-full-width js-popup-close">
		 						Finish
		 					</button>
						</div>

					</div>

				</div>
			</div>
		</div>
	</div>

	<div id="js-component-import--account-container" class="panel-right-container js-account-container"></div>
	<div id="js-component-import--search-container" class="panel-right-container js-search-container"></div>

 	<script src="js/vendor/jquery-1.11.1.min.js"></script>
 	<script src="js/vendor/handlebars-v2.0.0.js"></script> <!-- static templates only -->
 	<script src="js-v2/templates/templates.js"></script> <!-- static templates only -->
 	<script src="js/vendor/modernizr.2.8.3.custom.min.js"></script>

	<!--[if IE 9]>
		<script src="js/vendor/jquery.mCustomScrollbar.concat.min.js"></script>
	<![endif]-->

	<div id="js-appendScriptsContainer"></div>

	<script src="js-v2/app-include-templates-logged-in.js"></script> <!-- static templates only -->
  <script src="js-v2/application.js"></script>

  <script>
  	function initScripts() {
  		// mock menu select
  		var thisPageLink = $('#js-component-import--account-container').find('a[href="v2-account-details.html"]');
		  thisPageLink.parent("li").addClass("is-selected").parents("li").addClass("is-selected");

  		new Page();
  		new FormInteractions();
  		
  		$('.js-mock-change-password').each(function(){
  			$(this).on("keyup", function(){
  				$(".js-mock-create-password").removeClass("is-disabled");
  			});  			
  		});

  		$('.js-edit-details').each(function(){
  			$(this).on("keyup", function(){
  				$(".js-mock-save-changes").removeClass("is-disabled");
  			});  			
  		});

  		$('.js-open-modal-close-account').on("click", function(e){
				e.preventDefault();
				$('.js-page-overlay--close-account').fadeIn(200);
				setTimeout(function(){
					$('.js-page-overlay--close-account .js-popup-content').addClass("is-showing");
				}, 100);
			});

			$('.js-page-overlay').on("click", function(e){
				var parentIsPopupContent = false;
				$(e.target).parents("div").each(function(){
					if($(this).hasClass("js-popup-content")) {
						parentIsPopupContent = true;
					}
				});
				if(!parentIsPopupContent) {
					$('.js-page-overlay').fadeOut(100);
					$('.js-popup-content').removeClass("is-showing");
				}
			});

			$('.js-popup-close').on("click", function(e){
				e.preventDefault();
				$('.js-page-overlay').fadeOut(100);
				$('.js-popup-content').removeClass("is-showing");
			});

			// Mock multistep form container
  		var successTimeOut;
  		var popupSectionWidth = 372;
  		$('.js-mock-next-step').on("click", function(e){
				e.preventDefault();
				var sectionToMoveTo = $(this).data("move-to-section");
  			var moveLeftBy = -popupSectionWidth * sectionToMoveTo;
  			var stepsContainer = $(this).parents(".js-multi-step-container").css("left", moveLeftBy + "px");  			

  			var fakeLoading = $(this).data("fake-loading");

  			if(fakeLoading) { // automate loading with pause

  				var nextViewedStep = sectionToMoveTo + 1;
  				var nextViewedStepAfterLoading = sectionToMoveTo + 2;
  				stepsContainer.css("left", "-" + popupSectionWidth * sectionToMoveTo + "px");
  				stepsContainer.find(".multi-step-section.is-viewed-step").removeClass("is-viewed-step");
	  			stepsContainer.find(".multi-step-section:nth-child(" + nextViewedStep + ")").addClass("is-viewed-step");
  				
  				clearTimeout(successTimeOut);

  				successTimeOut = setTimeout(function(){
	  				stepsContainer.css("left", "-" + popupSectionWidth * nextViewedStep + "px");
	  				stepsContainer.find(".multi-step-section.is-viewed-step").removeClass("is-viewed-step");
	  				stepsContainer.find(".multi-step-section:nth-child(" + nextViewedStepAfterLoading + ")").addClass("is-viewed-step");
	  				$('.js-multi-step-section-confirmation').addClass("is-success");
	  			}, 3000);

  			} else {

  				var nextSection = sectionToMoveTo + 1;
  				var lastSection = sectionToMoveTo;
  				clearTimeout(successTimeOut);
  				stepsContainer.find(".multi-step-section.is-viewed-step").removeClass("is-viewed-step");
  				stepsContainer.find(".multi-step-section:nth-child(" + nextSection + ")").addClass("is-viewed-step");				
  				stepsContainer.css("left", "-" + popupSectionWidth * sectionToMoveTo + "px");
  			}
  		});
  		
  	}
  	window.onready = initScripts();
  </script>
</body>